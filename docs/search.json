[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Exam-01",
    "section": "",
    "text": "First, we read the data and take a look at some observations.\n\n\nCode\nworld = read_csv(\"data/world-3.csv\")\n\nworld |&gt; \n  sample_n(10) |&gt; \n  arrange(country) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = c(6, 10, 11, 12),\n    decimals = 2\n  )\n\n\n\n\n\n\nTable 1:  Sample of (n=10) observations of the World data \n  \n    \n    \n      country\n      region\n      lifeexpf\n      lifeexpm\n      literacy\n      popincr\n      babymort\n      birthr\n      deathr\n      gdp\n      aidsr\n      bdratio\n      fertilty\n      literacym\n      literacyf\n    \n  \n  \n    Bosnia\nEast Europe\n78\n72\n86\n0.70\n12.70\n14.0\n6.39\n3.49\nNA\n2.19\nNA\nNA\nNA\n    Canada\nOECD\n81\n74\n97\n0.70\n6.80\n14.0\n8.00\n4.30\n2.01\n1.75\n1.80\nNA\nNA\n    Germany\nOECD\n79\n73\n99\n0.36\n6.50\n11.0\n11.00\n4.24\n1.69\n1.00\n1.47\nNA\nNA\n    Kuwait\nMiddle East\n78\n73\n73\n5.24\n12.50\n28.0\n2.00\n3.83\n0.89\n14.00\n4.00\n77\n67\n    Norway\nOECD\n81\n74\n99\n0.40\n6.30\n13.0\n10.00\n4.25\n1.54\n1.30\n2.00\nNA\nNA\n    Panama\nLatin America\n78\n71\n88\n1.94\n16.50\n25.0\n5.00\n3.38\n1.90\n5.00\n2.90\n88\n88\n    Romania\nEast Europe\n75\n69\n96\n0.06\n20.30\n14.0\n10.00\n3.43\n1.64\n1.40\n1.82\nNA\nNA\n    Taiwan\nPacific/Asia\n78\n72\n91\n0.92\n5.10\n15.6\nNA\n3.85\nNA\nNA\nNA\nNA\nNA\n    USA\nOECD\n79\n73\n97\n0.99\n8.11\n15.0\n9.00\n4.37\n2.75\n1.67\n2.06\n97\n97\n    Ukraine\nEast Europe\n75\n65\n97\n0.05\n20.70\n12.0\n13.00\n3.37\n0.55\n0.92\n1.82\n100\n100\n  \n  \n  \n\n\n\n\n\nThen, we make a description of all the numeric values.\n\n\nCode\nworld |&gt; \n  select(where(is.numeric)) |&gt; \n  skim() |&gt; \n  select(-1) |&gt; \n  arrange(skim_variable) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = 3:10,\n    decimals = 2\n  ) |&gt; \n  cols_label(\n    skim_variable = \"variable\",\n    n_missing = \"missing\",\n    numeric.mean = \"mean\",\n    numeric.sd = \"std\",\n    numeric.p0 = \"p0\",\n    numeric.p25 = \"p25\",\n    numeric.p50 = \"p50\",\n    numeric.p75 = \"p75\",\n    numeric.p100 = \"p100\",\n    numeric.hist = \"histogram\"\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  )\n\n\n\n\n\n\nTable 2:  Summary of numeric variables for the World data \n  \n    \n    \n      variable\n      missing\n      complete_rate\n      mean\n      std\n      p0\n      p25\n      p50\n      p75\n      p100\n      histogram\n    \n  \n  \n    aidsr\n3\n0.97\n1.38\n0.71\n0.00\n0.77\n1.38\n1.86\n3.18\n▃▇▇▃▂\n    babymort\n0\n1.00\n42.31\n38.08\n4.00\n9.30\n27.70\n63.00\n168.00\n▇▃▁▂▁\n    bdratio\n1\n0.99\n3.20\n2.12\n0.92\n1.54\n2.67\n4.18\n14.00\n▇▃▁▁▁\n    birthr\n0\n1.00\n25.92\n12.36\n10.00\n14.00\n25.00\n35.00\n53.00\n▇▃▃▃▂\n    deathr\n1\n0.99\n9.56\n4.25\n2.00\n6.85\n9.00\n11.00\n24.00\n▅▇▅▁▁\n    fertilty\n2\n0.98\n3.56\n1.90\n1.30\n1.88\n3.05\n5.00\n8.19\n▇▅▂▃▁\n    gdp\n0\n1.00\n3.42\n0.62\n2.09\n3.00\n3.48\n3.87\n4.37\n▃▅▇▇▇\n    lifeexpf\n0\n1.00\n70.16\n10.57\n43.00\n67.00\n74.00\n78.00\n82.00\n▂▂▁▅▇\n    lifeexpm\n0\n1.00\n64.92\n9.27\n41.00\n61.00\n67.00\n72.00\n76.00\n▂▂▂▇▇\n    literacy\n2\n0.98\n78.34\n22.88\n18.00\n63.00\n88.00\n98.00\n100.00\n▁▂▂▂▇\n    literacyf\n24\n0.78\n67.26\n28.61\n9.00\n45.00\n71.00\n93.00\n100.00\n▂▂▂▃▇\n    literacym\n24\n0.78\n78.73\n20.45\n28.00\n63.00\n87.00\n96.00\n100.00\n▁▁▃▂▇\n    popincr\n0\n1.00\n1.68\n1.20\n−0.30\n0.52\n1.80\n2.68\n5.24\n▇▅▇▃▁\n  \n  \n  \n\n\n\n\n\nWe see from Table 2 that some of the variables have missing data, specifically, the literacym variable has complete rate of 78%. Also, the standard deviation from each variable is in a different scale, ranging from 0.62 units in gdp to 38.08 units in babymort. This makes sense because some variables are in a log-scale.\n\n\n\n\n\n\nNote\n\n\n\nGiven this scenario, we would prefer to perform pca with the correlation matrix.\n\n\n\n\nWe perform two principal component analysis using: a) the covariance matrix and b) the correlation matrix.\n\n\nCode\n# get complete cases\nworld_complete = world |&gt; \n  drop_na()\n\n# for the covariance matrix\npca_cov = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp()\n\n# for the correlation matrix\npca_cor = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp(scale = TRUE)\n\n# matrix with loadings\nloadings = bind_rows(\n  pca_cov |&gt; \n  tidy(matrix = \"rotation\") |&gt; \n  mutate(matrix = factor(\"covariance\")),\n  pca_cor |&gt; \n  tidy(matrix = \"rotation\") |&gt; \n  mutate(matrix = factor(\"correlation\"))\n)\n\n\nWe plot the differences for the first two pca’s using each method.\n\n\nCode\ndata_p01 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cov$rotation[,1], pca_2 = pca_cov$rotation[,2]) \n\ndata_p02 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cor$rotation[,1], pca_2 = pca_cor$rotation[,2]) \n\np01 = data_p01 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cov)\") +\n  ylab(\"PC2 (cov)\") +\n  theme_classic()\n\np02 = data_p02 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cor)\") +\n  ylab(\"PC2 (cor)\") +\n  theme_classic()\n\np01 | p02 \n\n\n\n\n\nFigure 1: Plot of principal component loadings for the first two pcs using the covariance matrix (left) and the correlation matrix (right)\n\n\n\n\nBased on the results presented on Figure 1 we can conclude that the loadings across the two solutions differ (although the plot only presented the first two components for each solution, the same behavior, or a lesser extent of it, is observed on the remainder of the components). The right plot shows that the variables related to literacy have larger values on the first and second principal component than the other variables (except for babymort in the second component). This behavior matches the difference in standard deviation we see in Table 2. On the other hand, the left plot shows a more distributed pattern of the loadings, where no variable stands out from the rest. The difference between the loadings across the two solutions can be explain by the scale-dependency of the technique. Given this difference, I think it is more appropriate to analyze this dataset with the correlation matrix.\n\n\n\nTo investigate the number of necessary principal components to adequately describe the variability among the variables, several approaches will be taken.\n\nScree-plot &\n\n\n\nCode\npca_cor |&gt; \n  tidy(matrix = \"eigenvalues\") |&gt; \n  mutate(lambda = std.dev * std.dev) |&gt; \n  ggplot(aes(PC, lambda)) +\n  geom_col(fill = \"#56B4E9\", alpha = 0.8) +\n  geom_abline(slope =  0, intercept = 1, linetype = \"dashed\", color = \"red\") +\n  xlab(\"PCA\") +\n  scale_x_continuous(breaks = 1:13) +\n  scale_y_continuous(\n       expand = expansion(mult = c(0, 0.01))\n    ) +\n  theme_minimal_hgrid(12)\n\n\n\n\n\nFigure 2: Scree plot\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nworld_complete = pca_cor |&gt;\n  augment(world_complete)"
  },
  {
    "objectID": "index.html#descriptive-analysis",
    "href": "index.html#descriptive-analysis",
    "title": "Exam-01",
    "section": "",
    "text": "First, we read the data and take a look at some observations.\n\n\nCode\nworld = read_csv(\"data/world-3.csv\")\n\nworld |&gt; \n  sample_n(10) |&gt; \n  arrange(country) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = c(6, 10, 11, 12),\n    decimals = 2\n  )\n\n\n\n\n\n\nTable 1:  Sample of (n=10) observations of the World data \n  \n    \n    \n      country\n      region\n      lifeexpf\n      lifeexpm\n      literacy\n      popincr\n      babymort\n      birthr\n      deathr\n      gdp\n      aidsr\n      bdratio\n      fertilty\n      literacym\n      literacyf\n    \n  \n  \n    Bosnia\nEast Europe\n78\n72\n86\n0.70\n12.70\n14.0\n6.39\n3.49\nNA\n2.19\nNA\nNA\nNA\n    Canada\nOECD\n81\n74\n97\n0.70\n6.80\n14.0\n8.00\n4.30\n2.01\n1.75\n1.80\nNA\nNA\n    Germany\nOECD\n79\n73\n99\n0.36\n6.50\n11.0\n11.00\n4.24\n1.69\n1.00\n1.47\nNA\nNA\n    Kuwait\nMiddle East\n78\n73\n73\n5.24\n12.50\n28.0\n2.00\n3.83\n0.89\n14.00\n4.00\n77\n67\n    Norway\nOECD\n81\n74\n99\n0.40\n6.30\n13.0\n10.00\n4.25\n1.54\n1.30\n2.00\nNA\nNA\n    Panama\nLatin America\n78\n71\n88\n1.94\n16.50\n25.0\n5.00\n3.38\n1.90\n5.00\n2.90\n88\n88\n    Romania\nEast Europe\n75\n69\n96\n0.06\n20.30\n14.0\n10.00\n3.43\n1.64\n1.40\n1.82\nNA\nNA\n    Taiwan\nPacific/Asia\n78\n72\n91\n0.92\n5.10\n15.6\nNA\n3.85\nNA\nNA\nNA\nNA\nNA\n    USA\nOECD\n79\n73\n97\n0.99\n8.11\n15.0\n9.00\n4.37\n2.75\n1.67\n2.06\n97\n97\n    Ukraine\nEast Europe\n75\n65\n97\n0.05\n20.70\n12.0\n13.00\n3.37\n0.55\n0.92\n1.82\n100\n100\n  \n  \n  \n\n\n\n\n\nThen, we make a description of all the numeric values.\n\n\nCode\nworld |&gt; \n  select(where(is.numeric)) |&gt; \n  skim() |&gt; \n  select(-1) |&gt; \n  arrange(skim_variable) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = 3:10,\n    decimals = 2\n  ) |&gt; \n  cols_label(\n    skim_variable = \"variable\",\n    n_missing = \"missing\",\n    numeric.mean = \"mean\",\n    numeric.sd = \"std\",\n    numeric.p0 = \"p0\",\n    numeric.p25 = \"p25\",\n    numeric.p50 = \"p50\",\n    numeric.p75 = \"p75\",\n    numeric.p100 = \"p100\",\n    numeric.hist = \"histogram\"\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  )\n\n\n\n\n\n\nTable 2:  Summary of numeric variables for the World data \n  \n    \n    \n      variable\n      missing\n      complete_rate\n      mean\n      std\n      p0\n      p25\n      p50\n      p75\n      p100\n      histogram\n    \n  \n  \n    aidsr\n3\n0.97\n1.38\n0.71\n0.00\n0.77\n1.38\n1.86\n3.18\n▃▇▇▃▂\n    babymort\n0\n1.00\n42.31\n38.08\n4.00\n9.30\n27.70\n63.00\n168.00\n▇▃▁▂▁\n    bdratio\n1\n0.99\n3.20\n2.12\n0.92\n1.54\n2.67\n4.18\n14.00\n▇▃▁▁▁\n    birthr\n0\n1.00\n25.92\n12.36\n10.00\n14.00\n25.00\n35.00\n53.00\n▇▃▃▃▂\n    deathr\n1\n0.99\n9.56\n4.25\n2.00\n6.85\n9.00\n11.00\n24.00\n▅▇▅▁▁\n    fertilty\n2\n0.98\n3.56\n1.90\n1.30\n1.88\n3.05\n5.00\n8.19\n▇▅▂▃▁\n    gdp\n0\n1.00\n3.42\n0.62\n2.09\n3.00\n3.48\n3.87\n4.37\n▃▅▇▇▇\n    lifeexpf\n0\n1.00\n70.16\n10.57\n43.00\n67.00\n74.00\n78.00\n82.00\n▂▂▁▅▇\n    lifeexpm\n0\n1.00\n64.92\n9.27\n41.00\n61.00\n67.00\n72.00\n76.00\n▂▂▂▇▇\n    literacy\n2\n0.98\n78.34\n22.88\n18.00\n63.00\n88.00\n98.00\n100.00\n▁▂▂▂▇\n    literacyf\n24\n0.78\n67.26\n28.61\n9.00\n45.00\n71.00\n93.00\n100.00\n▂▂▂▃▇\n    literacym\n24\n0.78\n78.73\n20.45\n28.00\n63.00\n87.00\n96.00\n100.00\n▁▁▃▂▇\n    popincr\n0\n1.00\n1.68\n1.20\n−0.30\n0.52\n1.80\n2.68\n5.24\n▇▅▇▃▁\n  \n  \n  \n\n\n\n\n\nWe see from Table 2 that some of the variables have missing data, specifically, the literacym variable has complete rate of 78%. Also, the standard deviation from each variable is in a different scale, ranging from 0.62 units in gdp to 38.08 units in babymort. This makes sense because some variables are in a log-scale.\n\n\n\n\n\n\nNote\n\n\n\nGiven this scenario, we would prefer to perform pca with the correlation matrix.\n\n\n\n\nWe perform two principal component analysis using: a) the covariance matrix and b) the correlation matrix.\n\n\nCode\n# get complete cases\nworld_complete = world |&gt; \n  drop_na()\n\n# for the covariance matrix\npca_cov = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp()\n\n# for the correlation matrix\npca_cor = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp(scale = TRUE)\n\n# matrix with loadings\nloadings = bind_rows(\n  pca_cov |&gt; \n  tidy(matrix = \"rotation\") |&gt; \n  mutate(matrix = factor(\"covariance\")),\n  pca_cor |&gt; \n  tidy(matrix = \"rotation\") |&gt; \n  mutate(matrix = factor(\"correlation\"))\n)\n\n\nWe plot the differences for the first two pca’s using each method.\n\n\nCode\ndata_p01 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cov$rotation[,1], pca_2 = pca_cov$rotation[,2]) \n\ndata_p02 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cor$rotation[,1], pca_2 = pca_cor$rotation[,2]) \n\np01 = data_p01 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cov)\") +\n  ylab(\"PC2 (cov)\") +\n  theme_classic()\n\np02 = data_p02 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cor)\") +\n  ylab(\"PC2 (cor)\") +\n  theme_classic()\n\np01 | p02 \n\n\n\n\n\nFigure 1: Plot of principal component loadings for the first two pcs using the covariance matrix (left) and the correlation matrix (right)\n\n\n\n\nBased on the results presented on Figure 1 we can conclude that the loadings across the two solutions differ (although the plot only presented the first two components for each solution, the same behavior, or a lesser extent of it, is observed on the remainder of the components). The right plot shows that the variables related to literacy have larger values on the first and second principal component than the other variables (except for babymort in the second component). This behavior matches the difference in standard deviation we see in Table 2. On the other hand, the left plot shows a more distributed pattern of the loadings, where no variable stands out from the rest. The difference between the loadings across the two solutions can be explain by the scale-dependency of the technique. Given this difference, I think it is more appropriate to analyze this dataset with the correlation matrix.\n\n\n\nTo investigate the number of necessary principal components to adequately describe the variability among the variables, several approaches will be taken.\n\nScree-plot &\n\n\n\nCode\npca_cor |&gt; \n  tidy(matrix = \"eigenvalues\") |&gt; \n  mutate(lambda = std.dev * std.dev) |&gt; \n  ggplot(aes(PC, lambda)) +\n  geom_col(fill = \"#56B4E9\", alpha = 0.8) +\n  geom_abline(slope =  0, intercept = 1, linetype = \"dashed\", color = \"red\") +\n  xlab(\"PCA\") +\n  scale_x_continuous(breaks = 1:13) +\n  scale_y_continuous(\n       expand = expansion(mult = c(0, 0.01))\n    ) +\n  theme_minimal_hgrid(12)\n\n\n\n\n\nFigure 2: Scree plot\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nworld_complete = pca_cor |&gt;\n  augment(world_complete)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]